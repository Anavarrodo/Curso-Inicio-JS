<h3>Crear Usuario</h3>

<form #newForm="ngForm" (ngSubmit)="onNewSubmit(newForm)">

    <label for="name">Nombre</label><br/>
    <input type="text" name="name" #name="ngModel" [(ngModel)]="new_user.name" required pattern="[a-zA-Z]+"/><br/>
    <span *ngIf="name.touched && !name.valid">
        El nombre no es válido
    </span><br/>
    
    <label for="job">Trabajo</label><br/>
    <input type="text" name="job" #job="ngModel" [(ngModel)]="new_user.job" required pattern="[a-zA-Z]+"/><br/>
    <span *ngIf="job.touched && !job.valid">
        El trabajo no es válido
    </span><br/>

    <input type="submit" value="Enviar" [disabled]="!newForm.form.valid"/>

</form>

<div *ngIf="new_user">
    <h3>{{new_user.name}}</h3>
    <h3>{{new_user.job}}</h3>
</div>

<h3>Formulario de Contacto</h3>
<form #formContacto="ngForm" (ngSubmit)="onSubmit(formContacto)" >

    <label for="nombre">Nombre</label><br/>
    <input type="text" name="nombre" #nombre="ngModel" [(ngModel)]="_user.nombre" required pattern="[a-zA-Z]+"/><br/>
    <span *ngIf="nombre.touched && !nombre.valid">
        El nombre no es válido
    </span><br/>

    
    <label for="apellidos">Primer Apellido</label><br/>
    <input type="text" name="apellidos" #apellidos="ngModel" [(ngModel)]="_user.apellidos" required pattern="[a-zA-Z]+"/><br/>
    <span *ngIf="apellidos.touched && !apellidos.valid">
            El apellido no es válido
    </span><br/>

    
    <label for="email">Email</label><br/>
    <input type="email" name="email" #email="ngModel" [(ngModel)]="_user.email" required/><br/>
    <span *ngIf="email.touched && !email.valid">
            El email no es válido
    </span><br/>

    
    <label for="mensaje">Mensaje</label><br/>
    <input type="text" name="mensaje" #mensaje="ngModel" [(ngModel)]="_user.mensaje" required/><br/>
    <span *ngIf="mensaje.touched && !mensaje.valid">
            El mensaje no es válido
    </span><br/>

    <input type="submit" value="Enviar" [disabled]="!formContacto.form.valid"/>

</form>

<hr>
<input type="text" [(ngModel)]="userId" (keyup.enter)="cargarUser()"/>
<div *ngIf="!user">
   <span>Cargando...</span>
</div>
<div *ngIf="user">
    <h3>{{user.first_name + " " + user.last_name}}</h3>
    <img src="{{user.avatar}}"/>
</div>

<hr>
